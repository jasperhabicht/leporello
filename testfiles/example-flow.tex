\DocumentMetadata{lang=en,tagging=on}
\documentclass[]{leporello}
\usepackage{lipsum}
%\usepackage{lua-visual-debug}

\sloppy

\begin{leporellocolumn}{one}
\begin{leporellobox}[flow into={foo}, height={185mm}, background color=cyan!10]
\lipsum[1-7] xo xo \par
\end{leporellobox}
\end{leporellocolumn}

\begin{leporellocolumn}{two}
\begin{leporellobox}[name={foo}, flow into={qux}, background color=cyan!10]
%abc abc \par
\end{leporellobox}
\end{leporellocolumn}
% has minimum height if next box is 110mm or more (but inner box is correct)

\begin{leporellocolumn}{three}
\begin{leporellobox}[name={qux}, flow into={bar}, background color=magenta!10]
%\lipsum[1]
\end{leporellobox}
\end{leporellocolumn}

\begin{leporellocolumn}{four}
\begin{leporellobox}[name={bar}, background color=magenta!10]
foo on page 
\end{leporellobox}
\end{leporellocolumn}
% has full height if first box is 100mm (but inner box is correct)
% has correct height if first box is 100mm

\begin{document}

\leporellotypesetcolumns{four, two, three, one}

\end{document}