\documentclass[prepress, show frames, show ids]{leporello}
\usepackage{lipsum}
\usepackage{lua-visual-debug}

\errorcontextlines100

\begin{leporellocolumn}{one}
\begin{leporellobox}[height={100mm}, background color=cyan!10]
\huge\thepage{} Reference to page \pageref{foo}
\end{leporellobox}
\end{leporellocolumn}

\begin{leporellocolumn}{two}
\begin{leporellobox}[name={foo}, flow into={qux}, background color=cyan!10]
\huge\thepage{} \lipsum[1] \par x \label{foo} \thepage{} ..
\end{leporellobox}
\end{leporellocolumn}

\begin{leporellocolumn}{three}
\begin{leporellobox}[name={qux}, height={100mm}, background color=magenta!10]
\huge\thepage{} Reference to page \pageref{foo}
\end{leporellobox}
\end{leporellocolumn}

\begin{leporellocolumn}{four}
\begin{leporellobox}[name={bar}, background color=magenta!10]
\huge\thepage{} Reference to page \pageref{foo}
\end{leporellobox}
\end{leporellocolumn}

\begin{document}

\leporellotypesetcolumns[]{one, two, three, four}

\end{document}

\label{foo}\pageref{foo}